<!DOCTYPE html>
<html>
  <head> 
    <title>Data</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script
			src="https://code.jquery.com/jquery-3.5.1.min.js"
			integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			crossorigin="anonymous"></script>

    <style type="text/css">
         body {
  background-image: url('https://img.rawpixel.com/s3fs-private/rawpixel_images/website_content/pf-misctexture01-beer-032_1.jpg?w=800&dpr=1&fit=default&crop=default&q=65&vib=3&con=3&usm=15&bg=F4F4F3&ixlib=js-2.2.1&s=c5b50a1c0fe30ea91b3c769b294c8e64'); 
  background-size: cover;
  
}
#editBook{
  display: flex;
  flex-direction: column;
  align-items: center;
}
#editHobby{
  display: flex;
  flex-direction: column;
  align-items: center;
}
button{
   background-color: rgb(173 216 230);
    border: none;
    border-radius: 10px 10px;
    padding: 8px;
    font-size: 15px;
    color: black;
    cursor: pointer;
    margin-right: 20px;
    margin-top: 10px;
}
label{
  font-size: 20px;
  
}
input{
  border-radius: 8px;
  border:none;
  padding: 5px;
}
input[type=text]{
  width: 35%;
  padding: 15px;
}
#editHobby div{
  background-color: white;
  border-radius: 20px 20px;
  margin-bottom: 20px; 
  width: 37%;
}
#editBook div{
  background-color: white;
  border-radius: 20px 20px;
  margin-bottom: 20px; 
  width: 37%;
}
input[type=radio]{
  margin-left: 37px;margin-bottom: 20px; 
}
input[type=checkbox]{
  margin-left:37px;
  margin-bottom: 20px;
}
    </style>
  </head> 
  <body style="background-color: rgb(221, 246, 252);" onload="loadEditItem()">
    <a href="/logout">Sing Out</a>

    <div id="editHobby">
    <label>Full Name</label>
    <input type="text" id="fullName" readonly> <br>
    <label>Date of Birth</label>
    <input type="text" id="BirthDate"><br>
    <div>
    <label for="fullname" style=" margin-left:37px;margin-top:37px;margin-bottom: 20px;
            display:inline-block;">Gander</label>
            <br>
            <input id="checkMale" class="gender1" type="radio" name="gender" value="Male">
            <label id="gender1" for="g1"> Male </label><br>
            <input id="checkFemale" class="gender2" type="radio" name="gender" value="Female">
            <label id="gender2" for="g2">Female </label><br>

          </div>

    <label>How many years have you been dancing?</label>
    <input type="text" id="beDancing"><br>
     <div >
            <label class="labels" for="fullname" style="margin-left:37px;margin-top:37px;margin-bottom: 20px;
            display:inline-block;">What type of dances to you do?
            </label>
            <br>
            <input id="checkBallet" class="language1" type="radio" name="language" value="Ballet">
            <label id="language1" for="vehicle1" > Ballet</label><br>
            <input id="checkHipHop" class="language2" type="radio" name="language" value="Hip Hop" >
            <label id="language2" for="vehicle2" >Hip Hop</label><br>
            <input id="checkContemporary" class="language3" type="radio" name="language" value="Contemporary" >
            <label id="language3" for="vehicle3" >Contemporary</label><br>
            <input id="checkFolk" class="language4" type="radio" name="language" value="Folk">
            <label id="language4" for="vehicle4" >Folk</label><br>
            <input id="typeOFDanceOther" class="other" type="radio" name="language" >
            <label for="vehicle4">Other:</label>
            <span id="typeOfDanceSpan">
            <input id="typeOfDanceInput" type="text" name="other" style="border:none;
                                                                  border-bottom:1px solid rgb(211, 208, 208);
                                                                  margin-bottom: 20px;">
            </span>
        </div>
      <div >
            <label for="fullname1" class="labels" style="margin-left:37px;margin-top:37px;margin-bottom: 20px;
            display:inline-block;">Which style of dancing is more appealing to you?
            </label>
            <br>
            <input id="checkModern" class="like1" type="checkbox" name="like" value="Modern types of dancing">
            <label id="like1" for="car1" style="font-size: 15px;"> Modern types of dancing </label><br>
            <input id="checkClassic" class="like2" type="checkbox" name="like" value="Classic types of dancing" >
            <label id="like2" for="car2" style="font-size: 15px;">Classic types of dancing </label><br>
            <input id="checkLike"class="like3" type="checkbox" name="like" value="I like both styles same way" >
            <label id="like3" for="car3" style="font-size: 15px;"> I like both styles same way</label><br>
            <input id="checkMovement" class="like4" type="checkbox" name="like" value="I like the movement of one style and the costumes of another">
            <label id="like4" for="car4" style="font-size: 15px;">I like the movement of one style and the costumes of another</label><br>
            <input id="checkappealingOther"class="other" type="checkbox" name="like" >
            <label for="car4" style="font-size: 18px;">Other:</label>
            <span id="appealingSpan">
              <input id="appealingInput"type="text" name="other" style="border:none;
                                                                  border-bottom:1px solid rgb(211, 208, 208);
                                                                  margin-bottom: 20px;">
            </span>
        </div>

    <div class="perception inputs">
            <label for="fullname" class="labels" style="margin-left:37px;margin-top:37px;margin-bottom: 20px;
            display:inline-block;">Which one from the following describes best your perception of dancing? 
            </label>
            <br>
            <input id="checkHobby" class="perception1" type="radio" name="perception" value="A hobby">
            <label id="perception1" for="p1" > A hobby</label><br>
            <input id="checkArt" class="perception2" type="radio" name="perception" value="An art">
            <label id="perception2" for="p2" style="font-size: 18px;">An art</label><br>
            <input id="checkProfession" class="perception3" type="radio" name="perception" value="A profession" >
            <label id="perception3" for="p3" style="font-size: 18px;">A profession</label><br>
            <input id="checkSport" class="perception4" type="radio" name="perception" value="A sport">
            <label id="perception4" for="p4" style="font-size: 18px;">A sport</label><br>
        </div>
    <label>Who is your role model in dancing?s</label>
    <input type="text" id="role"><br>
    <label>Have you tried partner dances?</label>
    <input type="text" id="partenDanc"><br>
    <label>Do you need a special sportswear for your dances? </label>
    <input type="text" id="sportswear"><br>
    <label>Did you take part in any dance competition?</label>
    <input type="text" id="competition"><br>
    <label>If you answered yes to the previous question, please name couple of them?</label>
    <input type="text" id="question"><br>
    <button onclick="updateDance()">Update</button>
    <script type="text/javascript">
        
function updateDance() {
  let lebleDoYou, leblegender, leblelike, lebleperception;
  localStorage = window.localStorage;
  editItem = JSON.parse(localStorage.getItem("editItem"));
  const id = editItem._id;

      if ( document.getElementById("checkMale").checked === true) {
        leblegender = "Male"
      } 
      else if ( document.getElementById("checkFemale").checked === true) {
          leblegender = "Female";
      } 

      if(document.getElementById("checkBallet").checked === true){
        lebleDoYou = "Ballet";
      }
      else if( document.getElementById('checkHipHop').checked === true){
        lebleDoYou = "Hip Hop";
      }
      else if(document.getElementById('checkContemporary').checked === true){
        lebleDoYou = "Contemporary";
      }
      else if( document.getElementById('checkFolk').checked === true){
        lebleDoYou = "Folk";
      }
      else if(document.getElementById('typeOFDanceOther').checked === true){
        lebleDoYou = document.getElementById('typeOfDanceInput').value;

      }


      if(document.getElementById("checkHobby").checked === true){
        lebleperception = "A hobby";

      }
      else if(  document.getElementById('checkArt').checked === true){
        lebleperception = "An art"
      }
      else if(document.getElementById('checkProfession').checked === true){
        
        lebleperception = "A profession";
      }
      else if( document.getElementById('checkSport').checked === true){
       
        lebleperception = "A sport";
      }

  
    
      if(document.getElementById("checkModern").checked === true){
        leblelike = "Modern types of dancing";
      }
      else if(document.getElementById('checkClassic').checked === true){
        leblelike = "Classic types of dancing";
      }
      else if( document.getElementById('checkLike').checked === true){
        leblelike = "I like both styles same way";
      }
      else if(document.getElementById('checkMovement').checked === true){
        leblelike = "I like the movement of one style and the costumes of another";
      }
        else if( document.getElementById('checkappealingOther').checked === true){

        leblelike = document.getElementById('appealingInput').value;

      }



  var tmp = {
    "id" : id,
    "fullName": document.getElementById("fullName").value,
    "dateofBirth": document.getElementById("BirthDate").value,
    "yourGender":  leblegender,
    "yearsofDancing":  document.getElementById("beDancing").value,
    "typeOfDancesYouLike": leblelike,
    "perceptionOfDancing":lebleperception, 
    "roleModel":  document.getElementById("role").value, 
    "experiencewithPartnerDances":  document.getElementById("partenDanc").value, 
    "needForSpecialSportsWear":  document.getElementById("sportswear").value , 
    "participationInCompetitions":  document.getElementById("competition").value ,
    "namesOfCompetitions":  document.getElementById("question").value,
    "typeOfDancesYouDo":  lebleDoYou, 
  }
  console.log(tmp);
  
    $.ajax({
        type: 'POST',
        url: "https://cse-120-2021-api-meri.herokuapp.com/data/update",
        data: tmp,
        cache: false,
        dataType : 'json',
        success: function (data) {
            console.log("success");
            document.location = "admin";
        },
        error: function (xhr) {
            console.error("Error in post", xhr);
        },
        complete: function () {
            console.log("Complete");  
        }
    });


}






function loadEditItem() {
  localStorage = window.localStorage;
  editItem = JSON.parse(localStorage.getItem("editItem"));
  console.log(editItem)
  const project = editItem.project

    if (editItem["yourGender"]) {
      if (editItem["yourGender"] == "Male") {
        document.getElementById("checkMale").checked = true;
      } 
      else if (editItem["yourGender"] == "Female") {
          document.getElementById("checkFemale").checked = true;
      } 
    }
     if(editItem["typeOfDancesYouDo"]){
      if(editItem["typeOfDancesYouDo"] == "Ballet"){
        document.getElementById("checkBallet").checked = true;
      }
      else if(editItem["typeOfDancesYouDo"] == "Hip Hop"){
        document.getElementById('checkHipHop').checked = true;
      }
      else if(editItem["typeOfDancesYouDo"] == "Contemporary"){
        document.getElementById('checkContemporary').checked = true;
      }
      else if(editItem["typeOfDancesYouDo"] == "Folk"){
        document.getElementById('checkFolk').checked = true;
      }
      else if(editItem["typeOfDancesYouDo"] != "Ballet" && editItem["typeOfDancesYouDo"] != "Hip Hop" && editItem["typeOfDancesYouDo"] != "Folk" && editItem["typeOfDancesYouDo"] != "Contemporary"){
        document.getElementById('typeOFDanceOther').checked = true;
        document.getElementById('typeOfDanceInput').value = editItem["typeOfDancesYouDo"] ;

      }
    }
    if(editItem["perceptionOfDancing"]){
      if(editItem["perceptionOfDancing"] == "A hobby"){
        document.getElementById("checkHobby").checked = true;
      }
      else if(editItem["perceptionOfDancing"] == "An art"){
        document.getElementById('checkArt').checked = true;
      }
      else if(editItem["perceptionOfDancing"] == "A profession"){
        document.getElementById('checkProfession').checked = true;
      }
      else if(editItem["perceptionOfDancing"] == "A sport"){
        document.getElementById('checkSport').checked = true;
      }

    }
    if(editItem["typeOfDancesYouLike"]){
      if(editItem["typeOfDancesYouLike"] == "Modern types of dancing"){
        document.getElementById("checkModern").checked = true;
      }
      else if(editItem["typeOfDancesYouLike"] == "Classic types of dancing"){
        document.getElementById('checkClassic').checked = true;
      }
      else if(editItem["typeOfDancesYouLike"] == "I like both styles same way"){
        document.getElementById('checkLike').checked = true;
      }
      else if(editItem["typeOfDancesYouLike"] == "I like the movement of one style and the costumes of another"){
        document.getElementById('checkMovement').checked = true;
      }
        else {
        document.getElementById('checkappealingOther').checked = true;
        document.getElementById('appealingInput').value = editItem["typeOfDancesYouLike"] ;

      }

    }
  document.getElementById("fullName").value = editItem["fullName"];
  document.getElementById("BirthDate").value = editItem["dateofBirth"];
  document.getElementById("beDancing").value = editItem["yearsofDancing"];    
  document.getElementById("role").value = editItem["roleModel"]; 
  document.getElementById("partenDanc").value = editItem["experiencewithPartnerDances"]; 
  document.getElementById("sportswear").value = editItem["needForSpecialSportsWear"]; 
  document.getElementById("competition").value = editItem["participationInCompetitions"]; 
  document.getElementById("question").value = editItem["namesOfCompetitions"];
  }
  



    </script>
</div>
  </body>
</html>
